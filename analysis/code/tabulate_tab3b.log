
  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        https://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Stata license: Single-user , expiring  5 Jul 2021
Serial number: 401609700731
  Licensed to: Yongseok Kim
               Indiana University Bloomington

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. Maximum number of variables is set to 5,000; see help set_maxvar.

. do tabulate_tab3b 

. clear all

. set more off

. 
. cd ~/Projects/Replication/BKS2009
/Users/apple/Projects/Replication/BKS2009

. use analysis/temp/prepared, replace

. 
. * Same winsorizing
. replace lev = 1 if lev > 1
(15,675 real changes made)

. replace lev = 0 if lev < 0
(0 real changes made)

. winsor2 rd aqc_at cfvol capx_at, c(1 99) replace

. winsor2 nwc ocf, c(1 100) replace

. winsor2 mtb, c(0 99) replace

. 
. winsor2 cfvol, c(1 99) replace

. 
. * Generate industry sigma
. preserve

. collapse (mean) ind_cfvol = cfvol, by(fyear sic2)

. la var ind_cfvol "Industry sigma"

. tempfile ind_cfvol

. save `ind_cfvol'
file /var/folders/5x/ys8vrl6n4yvbdxjwvb5k0nf00000gn/T//St70553.000002 saved

. restore

. 
. merge m:1 fyear sic2 using `ind_cfvol'

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           143,675  (_merge==3)
    -----------------------------------------

. 
. gen dum1990 = 0

. replace dum1990 = 1 if fyear >= 1990
(94,332 real changes made)

. la var dum1990 "1990s dummy"

. gen dum2000 = 0

. replace dum2000 = 1 if fyear >= 2000
(34,654 real changes made)

. la var dum2000 "2000s dummy"

. 
. * Model 1
. global control1 = "c.ind_cfvol c.mtb c.size c.ocf c.nwc c.capx_at c.lev c.rd 
> i.div_dum c.aqc_at"

. 
. qui reghdfe cashr ($control1 )##i.dum1990##i.dum2000, noabsorb cl(gvkey fyear
> )

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2_a)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: V = V[selectindex(b :!= 0), selectindex(b :!= 0)]

: b = b[1, selectindex(b :!= 0)]

: 
: b1 = b[1, (33, 1..10)]

: V1 = V[(33, 1..10), (33, 1..10)]

: 
: b2 = b[1, (11..21)]

: V2 = V[(11..21), (11..21)]

: 
: b3 = b[1, (22..32)]

: V3 = V[(22..32), (22..32)]

: 
: st_matrix("b1", b1)

: st_matrix("b2", b2)

: st_matrix("b3", b3)

: 
: st_matrix("V1", V1)

: st_matrix("V2", V2)

: st_matrix("V3", V3)

: end
-------------------------------------------------------------------------------

. 
. forvalues i = 1/3 {
  2.         matrix colnames b`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  3.         matrix rownames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  4.         matrix colnames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  5. }

. 
. ereturn post b1 V1

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |   .3186359   .0119646    26.63   0.000     .2951858     .342086
   ind_cfvol |   .1150505   .1115246     1.03   0.302    -.1035336    .3336347
         mtb |   .0114166   .0011935     9.57   0.000     .0090773    .0137558
        size |  -.0106273   .0011305    -9.40   0.000    -.0128429   -.0084116
         ocf |   .0284664   .0113381     2.51   0.012     .0062442    .0506887
         nwc |  -.2218872   .0097111   -22.85   0.000    -.2409206   -.2028538
     capx_at |  -.2966412    .023274   -12.75   0.000    -.3422573    -.251025
         lev |  -.3607362   .0122677   -29.41   0.000    -.3847805   -.3366918
          rd |   .0633387   .0045077    14.05   0.000     .0545038    .0721736
     div_dum |  -.0297161   .0045372    -6.55   0.000    -.0386088   -.0208234
      aqc_at |  -.0971083   .0100565    -9.66   0.000    -.1168187   -.0773979
------------------------------------------------------------------------------

. eststo est1

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.466"

. 
. ereturn post b2 V2

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |  -.1074297   .0144452    -7.44   0.000    -.1357418   -.0791176
   ind_cfvol |   .8159727   .1416929     5.76   0.000     .5382597    1.093686
         mtb |    .007254   .0020813     3.49   0.000     .0031746    .0113333
        size |   .0074479   .0013465     5.53   0.000     .0048088     .010087
         ocf |  -.0242421   .0148738    -1.63   0.103    -.0533941      .00491
         nwc |  -.0051456   .0146077    -0.35   0.725    -.0337762     .023485
     capx_at |  -.0836849   .0268032    -3.12   0.002    -.1362181   -.0311517
         lev |  -.0031313    .016261    -0.19   0.847    -.0350024    .0287397
          rd |   .0038059   .0052909     0.72   0.472    -.0065641    .0141758
     div_dum |  -.0191239   .0053158    -3.60   0.000    -.0295426   -.0087051
      aqc_at |  -.1258916    .016812    -7.49   0.000    -.1588425   -.0929407
------------------------------------------------------------------------------

. eststo est2

. 
. ereturn post b3 V3

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |  -.0049644   .0155645    -0.32   0.750    -.0354704    .0255415
   ind_cfvol |   .1199405    .101865     1.18   0.239    -.0797112    .3195922
         mtb |   .0021375   .0027023     0.79   0.429     -.003159     .007434
        size |    .001161   .0022583     0.51   0.607    -.0032652    .0055873
         ocf |  -.0292791   .0185408    -1.58   0.114    -.0656184    .0070602
         nwc |  -.0387241   .0188327    -2.06   0.040    -.0756356   -.0018126
     capx_at |  -.1360654   .0609075    -2.23   0.025    -.2554419   -.0166889
         lev |   .0211136   .0193653     1.09   0.276    -.0168417    .0590689
          rd |  -.0028699   .0037901    -0.76   0.449    -.0102984    .0045586
     div_dum |  -.0085139   .0058832    -1.45   0.148    -.0200448    .0030169
      aqc_at |  -.1270569   .0330929    -3.84   0.000    -.1919178    -.062196
------------------------------------------------------------------------------

. eststo est3

. 
. * Model 2
. gen ipoyear = fyear - year(ipodate2)

. tabulate ipoyear if ipoyear >= 1 & ipoyear <= 5, generate(ipo)

    ipoyear |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     12,030       25.03       25.03
          2 |     10,710       22.28       47.31
          3 |      9,444       19.65       66.96
          4 |      8,412       17.50       84.47
          5 |      7,465       15.53      100.00
------------+-----------------------------------
      Total |     48,061      100.00

. 
. foreach v in ipo1 ipo2 ipo3 ipo4 ipo5 {
  2.         replace `v' = 0 if missing(`v')
  3. }
(95,614 real changes made)
(95,614 real changes made)
(95,614 real changes made)
(95,614 real changes made)
(95,614 real changes made)

. 
. la var nei "Net equity issuance"

. la var ndi "Net debt issuance"

. la var neg_ni "Loss dummy"

. la var tb3 "T-bill"

. la var creditspread "Credit spread"

. la var ipo1 "IPO1"

. la var ipo2 "IPO2"

. la var ipo3 "IPO3"

. la var ipo4 "IPO4"

. la var ipo5 "IPO5"

. 
. global control1 = "c.ind_cfvol c.mtb c.size c.ocf c.nwc c.capx_at c.lev c.rd 
> i.div_dum c.aqc_at"

. global control2 = "nei ndi neg_ni tb3 creditspread ipo1 ipo2 ipo3 ipo4 ipo5"

. 
. qui reghdfe cashr ($control1 )##i.dum1990##i.dum2000 $control2, noabsorb cl(g
> vkey fyear)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2_a)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: V = V[selectindex(b :!= 0), selectindex(b :!= 0)]

: b = b[1, selectindex(b :!= 0)]

: 
: b1 = b[1, (43, 1..10, 33..42)]

: V1 = V[(43, 1..10, 33..42), (43, 1..10, 33..42)]

: 
: b2 = b[1, (11..21)]

: V2 = V[(11..21), (11..21)]

: 
: b3 = b[1, (22..32)]

: V3 = V[(22..32), (22..32)]

: 
: st_matrix("b1", b1)

: st_matrix("b2", b2)

: st_matrix("b3", b3)

: 
: st_matrix("V1", V1)

: st_matrix("V2", V2)

: st_matrix("V3", V3)

: end
-------------------------------------------------------------------------------

. 
. matrix colnames b1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. matrix rownames V1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. matrix colnames V1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. 
. forvalues i = 2/3 {
  2.         matrix colnames b`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  3.         matrix rownames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  4.         matrix colnames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  5. }

. 
. ereturn post b1 V1

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |   .3257834   .0157387    20.70   0.000     .2949362    .3566306
   ind_cfvol |   .1569065   .0839262     1.87   0.062    -.0075859    .3213988
         mtb |   .0058405    .001359     4.30   0.000     .0031769    .0085042
        size |  -.0101531   .0011218    -9.05   0.000    -.0123518   -.0079545
         ocf |   .0814001   .0132345     6.15   0.000     .0554609    .1073393
         nwc |  -.2508506   .0114377   -21.93   0.000    -.2732681   -.2284331
     capx_at |   -.418564   .0270296   -15.49   0.000    -.4715411   -.3655869
         lev |  -.3604938   .0123504   -29.19   0.000    -.3847001   -.3362874
          rd |    .052989   .0049357    10.74   0.000     .0433153    .0626627
     div_dum |  -.0191452    .004384    -4.37   0.000    -.0277377   -.0105527
      aqc_at |  -.2639021   .0216244   -12.20   0.000    -.3062851    -.221519
         nei |   .1434101   .0139707    10.27   0.000      .116028    .1707921
         ndi |    .164245   .0153804    10.68   0.000        .1341    .1943899
      neg_ni |  -.0021934   .0037987    -0.58   0.564    -.0096388     .005252
         tb3 |  -.0007276   .0005642    -1.29   0.197    -.0018333    .0003781
creditspread |   .0024694   .0044175     0.56   0.576    -.0061888    .0111276
        ipo1 |    .031466   .0049079     6.41   0.000     .0218467    .0410853
        ipo2 |   .0120417   .0044844     2.69   0.007     .0032525    .0208309
        ipo3 |   .0001975   .0044836     0.04   0.965    -.0085901    .0089851
        ipo4 |  -.0026811    .004001    -0.67   0.503     -.010523    .0051607
        ipo5 |  -.0041335   .0028774    -1.44   0.151    -.0097732    .0015061
------------------------------------------------------------------------------

. eststo est4

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.479"

. 
. ereturn post b2 V2

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |  -.1047184   .0137083    -7.64   0.000    -.1315861   -.0778507
   ind_cfvol |   .7187663   .1120413     6.42   0.000     .4991693    .9383632
         mtb |   .0076861   .0019226     4.00   0.000      .003918    .0114543
        size |   .0063994   .0012224     5.24   0.000     .0040036    .0087952
         ocf |  -.0037117   .0165643    -0.22   0.823    -.0361773    .0287538
         nwc |   .0172642    .014088     1.23   0.220    -.0103478    .0448761
     capx_at |  -.0664058   .0293416    -2.26   0.024    -.1239142   -.0088974
         lev |  -.0003087   .0134353    -0.02   0.982    -.0266414     .026024
          rd |   .0078611   .0051924     1.51   0.130    -.0023158    .0180381
     div_dum |  -.0177113   .0050151    -3.53   0.000    -.0275406    -.007882
      aqc_at |  -.1027353   .0187579    -5.48   0.000    -.1395001   -.0659706
------------------------------------------------------------------------------

. eststo est5

. 
. ereturn post b3 V3

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |   .0130796   .0140641     0.93   0.352    -.0144856    .0406448
   ind_cfvol |   .0531062   .0948453     0.56   0.576    -.1327872    .2389996
         mtb |   .0013733   .0034598     0.40   0.691    -.0054079    .0081544
        size |   .0015214   .0021047     0.72   0.470    -.0026036    .0056465
         ocf |  -.0374918    .020305    -1.85   0.065    -.0772889    .0023053
         nwc |  -.0388716   .0192429    -2.02   0.043     -.076587   -.0011561
     capx_at |  -.1390631   .0568845    -2.44   0.014    -.2505547   -.0275714
         lev |  -.0053439   .0182524    -0.29   0.770     -.041118    .0304302
          rd |   4.02e-06   .0037776     0.00   0.999       -.0074     .007408
     div_dum |  -.0145846   .0061483    -2.37   0.018     -.026635   -.0025341
      aqc_at |  -.1008725   .0295476    -3.41   0.001    -.1587848   -.0429602
------------------------------------------------------------------------------

. eststo est6

. 
. * Model 3
. gen logcashr = log(che / (at - che))
(15,198 missing values generated)

. 
. global control1 = "c.ind_cfvol c.mtb c.size c.ocf c.nwc c.capx_at c.lev c.rd 
> i.div_dum c.aqc_at"

. global control2 = "nei ndi neg_ni tb3 creditspread ipo1 ipo2 ipo3 ipo4 ipo5"

. 
. qui reghdfe logcashr ($control1 )##i.dum1990##i.dum2000 $control2, noabsorb c
> l(gvkey fyear)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2_a)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: V = V[selectindex(b :!= 0), selectindex(b :!= 0)]

: b = b[1, selectindex(b :!= 0)]

: 
: b1 = b[1, (43, 1..10, 33..42)]

: V1 = V[(43, 1..10, 33..42), (43, 1..10, 33..42)]

: 
: b2 = b[1, (11..21)]

: V2 = V[(11..21), (11..21)]

: 
: b3 = b[1, (22..32)]

: V3 = V[(22..32), (22..32)]

: 
: st_matrix("b1", b1)

: st_matrix("b2", b2)

: st_matrix("b3", b3)

: 
: st_matrix("V1", V1)

: st_matrix("V2", V2)

: st_matrix("V3", V3)

: end
-------------------------------------------------------------------------------

. 
. matrix colnames b1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. matrix rownames V1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. matrix colnames V1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. 
. forvalues i = 2/3 {
  2.         matrix colnames b`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  3.         matrix rownames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  4.         matrix colnames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  5. }

. 
. ereturn post b1 V1

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |  -1.074508   .1447465    -7.42   0.000    -1.358205   -.7908097
   ind_cfvol |   1.635726   .6812323     2.40   0.016     .3005352    2.970917
         mtb |   .0658639   .0091728     7.18   0.000     .0478856    .0838423
        size |  -.0698245   .0112478    -6.21   0.000    -.0918699   -.0477792
         ocf |   .6138205   .1153931     5.32   0.000     .3876543    .8399867
         nwc |  -2.110868   .0925055   -22.82   0.000    -2.292175    -1.92956
     capx_at |  -2.850006   .2054444   -13.87   0.000     -3.25267   -2.447342
         lev |  -3.583902   .0871444   -41.13   0.000    -3.754702   -3.413102
          rd |   .3192147   .0277741    11.49   0.000     .2647784    .3736509
     div_dum |  -.1892314   .0538307    -3.52   0.000    -.2947376   -.0837251
      aqc_at |  -1.533724   .1808812    -8.48   0.000    -1.888245   -1.179204
         nei |   .9039019   .0842726    10.73   0.000     .7387305    1.069073
         ndi |   1.255102   .1173488    10.70   0.000     1.025103    1.485102
      neg_ni |  -.0836501   .0408703    -2.05   0.041    -.1637545   -.0035457
         tb3 |  -.0138491   .0077589    -1.78   0.074    -.0290564    .0013581
creditspread |   .1319759   .0696764     1.89   0.058    -.0045873     .268539
        ipo1 |   .1523334   .0437759     3.48   0.001     .0665343    .2381325
        ipo2 |   .0070825   .0416445     0.17   0.865    -.0745391    .0887042
        ipo3 |  -.0647627   .0403559    -1.60   0.109    -.1438588    .0143333
        ipo4 |  -.0720727   .0345129    -2.09   0.037    -.1397169   -.0044286
        ipo5 |  -.0841635   .0311307    -2.70   0.007    -.1451786   -.0231484
------------------------------------------------------------------------------

. eststo est7

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.389"

. 
. ereturn post b2 V2

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |   -.749169   .1127401    -6.65   0.000    -.9701355   -.5282026
   ind_cfvol |   6.693769   .9315723     7.19   0.000     4.867921    8.519617
         mtb |    .055679   .0129895     4.29   0.000     .0302202    .0811379
        size |   .0161398   .0130731     1.23   0.217     -.009483    .0417626
         ocf |  -.0523951   .1444121    -0.36   0.717    -.3354375    .2306474
         nwc |  -.1149823   .1402235    -0.82   0.412    -.3898152    .1598506
     capx_at |  -.5205214   .2297058    -2.27   0.023    -.9707366   -.0703063
         lev |  -.2334625   .1033168    -2.26   0.024    -.4359597   -.0309653
          rd |   .0094386    .029768     0.32   0.751    -.0489057    .0677828
     div_dum |  -.1649191   .0603438    -2.73   0.006    -.2831909   -.0466473
      aqc_at |  -1.292224   .2024006    -6.38   0.000    -1.688922   -.8955263
------------------------------------------------------------------------------

. eststo est8

. 
. ereturn post b3 V3

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |   -.247338   .1226827    -2.02   0.044    -.4877916   -.0068845
   ind_cfvol |   .2303662   .8475041     0.27   0.786    -1.430711    1.891444
         mtb |   .0315118   .0236925     1.33   0.184    -.0149246    .0779482
        size |   .0512219   .0157687     3.25   0.001     .0203157     .082128
         ocf |  -.3549087   .1701403    -2.09   0.037    -.6883776   -.0214398
         nwc |  -.0265229   .1801324    -0.15   0.883     -.379576    .3265301
     capx_at |   -1.24079   .6671264    -1.86   0.063    -2.548334    .0667533
         lev |   .3813895   .1864247     2.05   0.041     .0160038    .7467752
          rd |   .0044949   .0264716     0.17   0.865    -.0473884    .0563783
     div_dum |  -.0654419   .0567181    -1.15   0.249    -.1766073    .0457235
      aqc_at |   -.809111   .3283554    -2.46   0.014    -1.452676   -.1655463
------------------------------------------------------------------------------

. eststo est9

. 
. * Tabulate
. esttab est1 est2 est3 est4 est5 est6 est7 est8 est9 using "analysis/output/ta
> b/tab3b.tex", replace stats(r2_, label("Adjusted $ R^{2}$")) p nostar nonotes
>  msign("$-$") label booktab longtable nonumbers nomtitles ///
> b(3) p(3) ///
> posthead("\multicolumn{10}{c}{Panel B} \\" ///
>  "\midrule \multicolumn{1}{p{1.5cm}}{Model} & \multicolumn{3}{c}{Cash/Assets}
>  & \multicolumn{3}{c}{Cash/Assets}  & \multicolumn{3}{c}{Log (Cash/Net Assets
> )} \\" "\cmidrule(lr){2-4} \cmidrule(lr){5-7} \cmidrule(lr){8-10}" ///
> "\multicolumn{1}{p{1.5cm}}{Dependent Variables} & \multicolumn{1}{p{1.8cm}}{\
> centering Estimate} & \multicolumn{1}{p{1.8cm}}{\centering Interaction \\1990
> s} & \multicolumn{1}{p{1.8cm}}{\centering Interaction \\2000s} & \multicolumn
> {1}{p{1.8cm}}{\centering Estimate} & \multicolumn{1}{p{1.8cm}}{\centering Int
> eraction \\1990s} & \multicolumn{1}{p{1.8cm}}{\centering Interaction \\2000s}
>  & \multicolumn{1}{p{1.8cm}}{\centering Estimate} & \multicolumn{1}{p{1.8cm}}
> {\centering Interaction \\1990s} & \multicolumn{1}{p{1.8cm}}{\centering Inter
> action \\2000s} \\" "\midrule") ///
> prefoot("\\")
(output written to analysis/output/tab/tab3b.tex)

. 
end of do-file
