
  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        https://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Stata license: Single-user , expiring  5 Jul 2021
Serial number: 401609700731
  Licensed to: Yongseok Kim
               Indiana University Bloomington

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. Maximum number of variables is set to 5,000; see help set_maxvar.

. do tabulate_tab3b 

. clear all

. set more off

. 
. cd ~/Projects/Replication/BKS2009
/Users/apple/Projects/Replication/BKS2009

. use analysis/temp/prepared, replace

. 
. * Same winsorizing
. replace lev = 1 if lev > 1
(1,775 real changes made)

. replace lev = 0 if lev < 0
(0 real changes made)

. winsor2 rd aqc_at cfvol capx_at, c(1 99) replace

. winsor2 nwc ocf, c(1 100) replace

. winsor2 mtb, c(0 99) replace

. 
. winsor2 cfvol, c(1 99) replace

. 
. * Generate industry sigma
. preserve

. collapse (mean) ind_cfvol = cfvol, by(fyear sic2)

. la var ind_cfvol "Industry sigma"

. tempfile ind_cfvol

. save `ind_cfvol'
file /var/folders/5x/ys8vrl6n4yvbdxjwvb5k0nf00000gn/T//St70329.000002 saved

. restore

. 
. merge m:1 fyear sic2 using `ind_cfvol'

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           116,966  (_merge==3)
    -----------------------------------------

. 
. gen dum1990 = 0

. replace dum1990 = 1 if fyear >= 1990
(76,389 real changes made)

. la var dum1990 "1990s dummy"

. gen dum2000 = 0

. replace dum2000 = 1 if fyear >= 2000
(27,553 real changes made)

. la var dum2000 "2000s dummy"

. 
. * Model 1
. global control1 = "c.ind_cfvol c.mtb c.size c.ocf c.nwc c.capx_at c.lev c.rd 
> i.div_dum c.aqc_at"

. 
. qui reghdfe cashr ($control1 )##i.dum1990##i.dum2000, noabsorb cl(gvkey fyear
> )

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2_a)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: V = V[selectindex(b :!= 0), selectindex(b :!= 0)]

: b = b[1, selectindex(b :!= 0)]

: 
: b1 = b[1, (33, 1..10)]

: V1 = V[(33, 1..10), (33, 1..10)]

: 
: b2 = b[1, (11..21)]

: V2 = V[(11..21), (11..21)]

: 
: b3 = b[1, (22..32)]

: V3 = V[(22..32), (22..32)]

: 
: st_matrix("b1", b1)

: st_matrix("b2", b2)

: st_matrix("b3", b3)

: 
: st_matrix("V1", V1)

: st_matrix("V2", V2)

: st_matrix("V3", V3)

: end
-------------------------------------------------------------------------------

. 
. forvalues i = 1/3 {
  2.         matrix colnames b`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  3.         matrix rownames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  4.         matrix colnames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  5. }

. 
. ereturn post b1 V1

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |   .3144393   .0123865    25.39   0.000     .2901622    .3387164
   ind_cfvol |   .1337679   .0909799     1.47   0.141    -.0445494    .3120852
         mtb |   .0109027   .0010993     9.92   0.000     .0087481    .0130574
        size |   -.009909   .0010928    -9.07   0.000    -.0120508   -.0077672
         ocf |   .0270335   .0123534     2.19   0.029     .0028214    .0512457
         nwc |  -.2186166   .0099892   -21.89   0.000    -.2381951   -.1990381
     capx_at |  -.2956616   .0231124   -12.79   0.000     -.340961   -.2503622
         lev |  -.3602683   .0128513   -28.03   0.000    -.3854563   -.3350803
          rd |   .0588241   .0042445    13.86   0.000      .050505    .0671432
     div_dum |  -.0310781   .0045687    -6.80   0.000    -.0400326   -.0221236
      aqc_at |  -.1024459   .0097135   -10.55   0.000    -.1214839   -.0834079
------------------------------------------------------------------------------

. eststo est1

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.464"

. 
. ereturn post b2 V2

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |  -.1044434   .0145475    -7.18   0.000     -.132956   -.0759309
   ind_cfvol |   .8234825   .1259439     6.54   0.000     .5766369    1.070328
         mtb |   .0077469   .0020066     3.86   0.000      .003814    .0116798
        size |   .0069591   .0013109     5.31   0.000     .0043897    .0095285
         ocf |  -.0294588   .0155633    -1.89   0.058    -.0599622    .0010446
         nwc |  -.0093134   .0148435    -0.63   0.530    -.0384061    .0197794
     capx_at |  -.0860304    .026573    -3.24   0.001    -.1381126   -.0339482
         lev |  -.0059667   .0167968    -0.36   0.722    -.0388879    .0269544
          rd |  -.0010597   .0048538    -0.22   0.827    -.0105731    .0084536
     div_dum |   -.018429   .0053167    -3.47   0.001    -.0288496   -.0080084
      aqc_at |  -.1219272   .0165911    -7.35   0.000    -.1544452   -.0894092
------------------------------------------------------------------------------

. eststo est2

. 
. ereturn post b3 V3

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |  -.0052301   .0154231    -0.34   0.735    -.0354589    .0249987
   ind_cfvol |    .121025     .10164     1.19   0.234    -.0781857    .3202356
         mtb |   .0021209   .0026724     0.79   0.427    -.0031169    .0073588
        size |   .0011024   .0022726     0.49   0.628    -.0033518    .0055566
         ocf |  -.0294965   .0180343    -1.64   0.102    -.0648431    .0058502
         nwc |   -.038171   .0189878    -2.01   0.044    -.0753864   -.0009555
     capx_at |  -.1370753   .0604642    -2.27   0.023    -.2555831   -.0185676
         lev |   .0223084   .0196097     1.14   0.255    -.0161259    .0607426
          rd |  -.0023513   .0033388    -0.70   0.481    -.0088952    .0041926
     div_dum |   -.008327   .0059049    -1.41   0.158    -.0199005    .0032464
      aqc_at |  -.1287153   .0332636    -3.87   0.000    -.1939108   -.0635197
------------------------------------------------------------------------------

. eststo est3

. 
. * Model 2
. gen ipoyear = fyear - year(ipodate2)

. tabulate ipoyear if ipoyear >= 1 & ipoyear <= 5, generate(ipo)

    ipoyear |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      9,517       25.35       25.35
          2 |      8,405       22.39       47.74
          3 |      7,318       19.50       67.24
          4 |      6,518       17.36       84.60
          5 |      5,779       15.40      100.00
------------+-----------------------------------
      Total |     37,537      100.00

. 
. foreach v in ipo1 ipo2 ipo3 ipo4 ipo5 {
  2.         replace `v' = 0 if missing(`v')
  3. }
(79,429 real changes made)
(79,429 real changes made)
(79,429 real changes made)
(79,429 real changes made)
(79,429 real changes made)

. 
. la var nei "Net equity issuance"

. la var ndi "Net debt issuance"

. la var neg_ni "Loss dummy"

. la var tb3 "T-bill"

. la var creditspread "Credit spread"

. la var ipo1 "IPO1"

. la var ipo2 "IPO2"

. la var ipo3 "IPO3"

. la var ipo4 "IPO4"

. la var ipo5 "IPO5"

. 
. global control1 = "c.ind_cfvol c.mtb c.size c.ocf c.nwc c.capx_at c.lev c.rd 
> i.div_dum c.aqc_at"

. global control2 = "nei ndi neg_ni tb3 creditspread ipo1 ipo2 ipo3 ipo4 ipo5"

. 
. qui reghdfe cashr ($control1 )##i.dum1990##i.dum2000 $control2, noabsorb cl(g
> vkey fyear)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2_a)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: V = V[selectindex(b :!= 0), selectindex(b :!= 0)]

: b = b[1, selectindex(b :!= 0)]

: 
: b1 = b[1, (43, 1..10, 33..42)]

: V1 = V[(43, 1..10, 33..42), (43, 1..10, 33..42)]

: 
: b2 = b[1, (11..21)]

: V2 = V[(11..21), (11..21)]

: 
: b3 = b[1, (22..32)]

: V3 = V[(22..32), (22..32)]

: 
: st_matrix("b1", b1)

: st_matrix("b2", b2)

: st_matrix("b3", b3)

: 
: st_matrix("V1", V1)

: st_matrix("V2", V2)

: st_matrix("V3", V3)

: end
-------------------------------------------------------------------------------

. 
. matrix colnames b1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. matrix rownames V1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. matrix colnames V1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. 
. forvalues i = 2/3 {
  2.         matrix colnames b`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  3.         matrix rownames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  4.         matrix colnames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  5. }

. 
. ereturn post b1 V1

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |   .3193735   .0152246    20.98   0.000     .2895338    .3492132
   ind_cfvol |   .1891262   .0740625     2.55   0.011     .0439665     .334286
         mtb |   .0049969   .0012915     3.87   0.000     .0024656    .0075281
        size |  -.0093276   .0010943    -8.52   0.000    -.0114724   -.0071829
         ocf |   .0824528   .0143055     5.76   0.000     .0544145    .1104911
         nwc |  -.2480523   .0115213   -21.53   0.000    -.2706335    -.225471
     capx_at |  -.4214071   .0264506   -15.93   0.000    -.4732493   -.3695649
         lev |  -.3595623   .0128448   -27.99   0.000    -.3847376    -.334387
          rd |   .0497722   .0042715    11.65   0.000     .0414003    .0581441
     div_dum |  -.0201366   .0044253    -4.55   0.000    -.0288101   -.0114631
      aqc_at |   -.266422   .0218249   -12.21   0.000    -.3091981    -.223646
         nei |   .1451873   .0143862    10.09   0.000     .1169909    .1733837
         ndi |    .165057   .0157433    10.48   0.000     .1342007    .1959134
      neg_ni |  -.0013539   .0036846    -0.37   0.713    -.0085755    .0058677
         tb3 |  -.0006463   .0005471    -1.18   0.238    -.0017186     .000426
creditspread |   .0026203    .004315     0.61   0.544    -.0058369    .0110776
        ipo1 |   .0319945   .0047333     6.76   0.000     .0227174    .0412715
        ipo2 |   .0126327   .0045661     2.77   0.006     .0036833    .0215821
        ipo3 |   .0008199   .0045159     0.18   0.856    -.0080312     .009671
        ipo4 |  -.0020908    .004037    -0.52   0.605    -.0100032    .0058217
        ipo5 |  -.0039603   .0028369    -1.40   0.163    -.0095205    .0015999
------------------------------------------------------------------------------

. eststo est4

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.479"

. 
. ereturn post b2 V2

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |  -.1005297   .0133594    -7.53   0.000    -.1267137   -.0743457
   ind_cfvol |    .707436   .1036638     6.82   0.000     .5042586    .9106134
         mtb |   .0085003   .0018468     4.60   0.000     .0048806    .0121201
        size |   .0058045   .0012018     4.83   0.000      .003449      .00816
         ocf |   -.008888   .0173618    -0.51   0.609    -.0429165    .0251405
         nwc |   .0139865   .0141603     0.99   0.323    -.0137672    .0417402
     capx_at |  -.0654634   .0286288    -2.29   0.022    -.1215747    -.009352
         lev |  -.0032681   .0138132    -0.24   0.813    -.0303415    .0238052
          rd |   .0026079   .0044897     0.58   0.561    -.0061917    .0114075
     div_dum |   -.016973   .0049856    -3.40   0.001    -.0267446   -.0072014
      aqc_at |  -.1023732   .0188069    -5.44   0.000    -.1392341   -.0655124
------------------------------------------------------------------------------

. eststo est5

. 
. ereturn post b3 V3

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |   .0132813   .0140081     0.95   0.343    -.0141741    .0407368
   ind_cfvol |   .0530619   .0950024     0.56   0.576    -.1331394    .2392633
         mtb |   .0013854   .0034425     0.40   0.687    -.0053618    .0081326
        size |   .0014536   .0021128     0.69   0.491    -.0026874    .0055946
         ocf |  -.0377521   .0199004    -1.90   0.058    -.0767562     .001252
         nwc |  -.0383758   .0193988    -1.98   0.048    -.0763968   -.0003548
     capx_at |  -.1402217   .0566974    -2.47   0.013    -.2513466   -.0290969
         lev |  -.0044857   .0183803    -0.24   0.807    -.0405103     .031539
          rd |   .0000802   .0032982     0.02   0.981    -.0063842    .0065446
     div_dum |  -.0144647   .0061659    -2.35   0.019    -.0265496   -.0023797
      aqc_at |  -.1015241   .0296814    -3.42   0.001    -.1596985   -.0433497
------------------------------------------------------------------------------

. eststo est6

. 
. * Model 3
. gen logcashr = log(che / (at - che))
(1,311 missing values generated)

. 
. global control1 = "c.ind_cfvol c.mtb c.size c.ocf c.nwc c.capx_at c.lev c.rd 
> i.div_dum c.aqc_at"

. global control2 = "nei ndi neg_ni tb3 creditspread ipo1 ipo2 ipo3 ipo4 ipo5"

. 
. qui reghdfe logcashr ($control1 )##i.dum1990##i.dum2000 $control2, noabsorb c
> l(gvkey fyear)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2_a)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: V = V[selectindex(b :!= 0), selectindex(b :!= 0)]

: b = b[1, selectindex(b :!= 0)]

: 
: b1 = b[1, (43, 1..10, 33..42)]

: V1 = V[(43, 1..10, 33..42), (43, 1..10, 33..42)]

: 
: b2 = b[1, (11..21)]

: V2 = V[(11..21), (11..21)]

: 
: b3 = b[1, (22..32)]

: V3 = V[(22..32), (22..32)]

: 
: st_matrix("b1", b1)

: st_matrix("b2", b2)

: st_matrix("b3", b3)

: 
: st_matrix("V1", V1)

: st_matrix("V2", V2)

: st_matrix("V3", V3)

: end
-------------------------------------------------------------------------------

. 
. matrix colnames b1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. matrix rownames V1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. matrix colnames V1 = Intercept ind_cfvol mtb size ocf nwc capx_at lev rd div_
> dum aqc_at $control2

. 
. forvalues i = 2/3 {
  2.         matrix colnames b`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  3.         matrix rownames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  4.         matrix colnames V`i' = Intercept ind_cfvol mtb size ocf nwc capx_a
> t lev rd div_dum aqc_at
  5. }

. 
. ereturn post b1 V1

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |   -1.10307    .140834    -7.83   0.000      -1.3791    -.827041
   ind_cfvol |   1.746611   .6839505     2.55   0.011     .4060929     3.08713
         mtb |   .0654871   .0094332     6.94   0.000     .0469984    .0839758
        size |   -.063125   .0110892    -5.69   0.000    -.0848594   -.0413905
         ocf |   .6222068   .1246201     4.99   0.000      .377956    .8664577
         nwc |  -2.153059   .0974784   -22.09   0.000    -2.344113   -1.962005
     capx_at |   -2.96687   .1844528   -16.08   0.000    -3.328391   -2.605349
         lev |  -3.620607   .0945853   -38.28   0.000     -3.80599   -3.435223
          rd |   .2899037   .0256757    11.29   0.000     .2395802    .3402271
     div_dum |  -.1880651   .0541489    -3.47   0.001     -.294195   -.0819353
      aqc_at |  -1.633402   .1976304    -8.26   0.000     -2.02075   -1.246053
         nei |   .9092217    .086664    10.49   0.000     .7393634     1.07908
         ndi |   1.268885   .1207555    10.51   0.000     1.032208    1.505561
      neg_ni |  -.0791828   .0403693    -1.96   0.050    -.1583052   -.0000604
         tb3 |  -.0128323   .0077828    -1.65   0.099    -.0280863    .0024217
creditspread |   .1349174   .0672007     2.01   0.045     .0032065    .2666284
        ipo1 |    .156426   .0420189     3.72   0.000     .0740704    .2387815
        ipo2 |   .0089832   .0422993     0.21   0.832    -.0739219    .0918882
        ipo3 |   -.062972   .0403586    -1.56   0.119    -.1420735    .0161294
        ipo4 |  -.0679632   .0349126    -1.95   0.052    -.1363908    .0004643
        ipo5 |  -.0852042    .031048    -2.74   0.006    -.1460571   -.0243512
------------------------------------------------------------------------------

. eststo est7

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.390"

. 
. ereturn post b2 V2

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |  -.7340651   .1118709    -6.56   0.000    -.9533279   -.5148022
   ind_cfvol |   6.696436    .903188     7.41   0.000      4.92622    8.466652
         mtb |   .0553914   .0129902     4.26   0.000      .029931    .0808517
        size |   .0106464   .0129544     0.82   0.411    -.0147437    .0360366
         ocf |  -.0849467   .1514971    -0.56   0.575    -.3818756    .2119821
         nwc |  -.0776156   .1430571    -0.54   0.587    -.3580023    .2027711
     capx_at |  -.4175472   .2089401    -2.00   0.046    -.8270623   -.0080321
         lev |  -.2104367   .1085024    -1.94   0.052    -.4230975     .002224
          rd |  -.0077027   .0271864    -0.28   0.777    -.0609871    .0455817
     div_dum |  -.1677463   .0602766    -2.78   0.005    -.2858863   -.0496064
      aqc_at |  -1.208068   .2134556    -5.66   0.000    -1.626434   -.7897032
------------------------------------------------------------------------------

. eststo est8

. 
. ereturn post b3 V3

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   Intercept |  -.2509568   .1223148    -2.05   0.040    -.4906894   -.0112243
   ind_cfvol |   .2850562    .841055     0.34   0.735    -1.363381    1.933494
         mtb |   .0312376   .0235981     1.32   0.186    -.0150138     .077489
        size |   .0507601   .0158402     3.20   0.001     .0197139    .0818062
         ocf |   -.354803   .1672167    -2.12   0.034    -.6825418   -.0270642
         nwc |  -.0206822   .1814922    -0.11   0.909    -.3764004     .335036
     capx_at |  -1.241214   .6660884    -1.86   0.062    -2.546723    .0642954
         lev |   .3888929   .1874538     2.07   0.038     .0214902    .7562957
          rd |   .0038041   .0231581     0.16   0.870     -.041585    .0491933
     div_dum |  -.0639478   .0570499    -1.12   0.262    -.1757635    .0478679
      aqc_at |  -.8127093   .3270978    -2.48   0.013    -1.453809   -.1716094
------------------------------------------------------------------------------

. eststo est9

. 
. * Tabulate
. esttab est1 est2 est3 est4 est5 est6 est7 est8 est9 using "analysis/output/ta
> b/tab3b.tex", replace stats(r2_, label("Adjusted $ R^{2}$")) p nostar nonotes
>  msign("$-$") label booktab longtable nonumbers nomtitles ///
> b(3) p(3) ///
> posthead("\multicolumn{10}{c}{Panel B} \\" ///
>  "\midrule \multicolumn{1}{p{1.5cm}}{Model} & \multicolumn{3}{c}{Cash/Assets}
>  & \multicolumn{3}{c}{Cash/Assets}  & \multicolumn{3}{c}{Log (Cash/Net Assets
> )} \\" "\cmidrule(lr){2-4} \cmidrule(lr){5-7} \cmidrule(lr){8-10}" ///
> "\multicolumn{1}{p{1.5cm}}{Dependent Variables} & \multicolumn{1}{p{1.8cm}}{\
> centering Estimate} & \multicolumn{1}{p{1.8cm}}{\centering Interaction \\1990
> s} & \multicolumn{1}{p{1.8cm}}{\centering Interaction \\2000s} & \multicolumn
> {1}{p{1.8cm}}{\centering Estimate} & \multicolumn{1}{p{1.8cm}}{\centering Int
> eraction \\1990s} & \multicolumn{1}{p{1.8cm}}{\centering Interaction \\2000s}
>  & \multicolumn{1}{p{1.8cm}}{\centering Estimate} & \multicolumn{1}{p{1.8cm}}
> {\centering Interaction \\1990s} & \multicolumn{1}{p{1.8cm}}{\centering Inter
> action \\2000s} \\" "\midrule") ///
> prefoot("\\")
(output written to analysis/output/tab/tab3b.tex)

. 
end of do-file
