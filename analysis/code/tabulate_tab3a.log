
  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        https://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Stata license: Single-user , expiring  5 Jul 2021
Serial number: 401609700731
  Licensed to: Yongseok Kim
               Indiana University Bloomington

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. Maximum number of variables is set to 5,000; see help set_maxvar.

. do tabulate_tab3a 

. clear all

. set more off

. 
. cd ~/Projects/Replication/BKS2009
/Users/apple/Projects/Replication/BKS2009

. use analysis/temp/prepared, replace

. 
. tsset gvkey fyear
       panel variable:  gvkey (unbalanced)
        time variable:  fyear, 1980 to 2006, but with gaps
                delta:  1 unit

. 
. * Same winsorizing
. replace lev = 1 if lev > 1
(1,775 real changes made)

. replace lev = 0 if lev < 0
(0 real changes made)

. 
. winsor2 rd aqc_at capx_at, c(1 99) replace

. winsor2 nwc ocf, c(1 100) replace

. winsor2 mtb, c(0 99) replace

. 
. winsor2 cfvol, c(1 99) replace

. 
. * Generate industry sigma
. preserve

. collapse (mean) ind_cfvol = cfvol, by(sic2 fyear)

. la var ind_cfvol "Industry sigma"

. tempfile ind_cfvol

. save `ind_cfvol'
file /var/folders/5x/ys8vrl6n4yvbdxjwvb5k0nf00000gn/T//St70325.000002 saved

. restore

. 
. merge m:1 fyear sic2 using `ind_cfvol'

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           116,966  (_merge==3)
    -----------------------------------------

. 
. global control = "ind_cfvol mtb size ocf nwc capx_at lev rd div_dum aqc_at"

. 
. * Column 1
. qui reghdfe cashr $control, noabsorb cl(gvkey fyear)

. local r2_ : di %4.3f e(r2_a)

. eststo col1

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.454"

. estadd local yearfixed ""

added macro:
          e(yearfixed) : ""

. 
. * Column 2
. gen log_cashr = log(che/(at - che))
(1,311 missing values generated)

. la var log_cashr "log cash over net assets"

. 
. qui reghdfe log_cashr $control, noabsorb cl(gvkey fyear)

. local r2_ : di %4.3f e(r2_a)

. eststo col2

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.369"

. estadd local yearfixed ""

added macro:
          e(yearfixed) : ""

. 
. * Column 3
. tsset gvkey fyear
       panel variable:  gvkey (unbalanced)
        time variable:  fyear, 1980 to 2006, but with gaps
                delta:  1 unit

. 
. gen lag_cash = L.cashr
(14,701 missing values generated)

. la var lag_cash "Lag cash"

. gen dcashr = D.cashr
(14,877 missing values generated)

. gen lag_dcashr = L.dcashr
(27,632 missing values generated)

. la var lag_dcashr "Lag dcash"

. 
. qui reghdfe dcashr lag_dcashr lag_cash $control, noabsorb cl(gvkey fyear)

. local r2_ : di %4.3f e(r2_a)

. eststo col3

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.235"

. estadd local yearfixed ""

added macro:
          e(yearfixed) : ""

. 
. * Column 4
. gen dum1990 = 0

. replace dum1990 = 1 if inrange(fyear, 1990, 1999)
(48,836 real changes made)

. la var dum1990 "1990s dummy"

. gen dum2000 = 0

. replace dum2000 = 1 if fyear >= 2000
(27,553 real changes made)

. la var dum2000 "2000s dummy"

. 
. qui reghdfe cashr $control dum1990 dum2000, noabsorb cl(gvkey fyear)

. local r2_ : di %4.3f e(r2_a)

. eststo col4

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.457"

. estadd local yearfixed ""

added macro:
          e(yearfixed) : ""

. 
. * Column 5
. qui reghdfe log_cashr $control dum1990 dum2000, noabsorb cl(gvkey fyear)

. local r2_ : di %4.3f e(r2_a)

. eststo col5

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.377"

. estadd local yearfixed ""

added macro:
          e(yearfixed) : ""

. 
. * Column 6
. qui reghdfe dcashr lag_dcashr lag_cash $control dum1990 dum2000, noabsorb cl(
> gvkey fyear)

. local r2_ : di %4.3f e(r2_a)

. eststo col6

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.236"

. estadd local yearfixed ""

added macro:
          e(yearfixed) : ""

. 
. * Column 7
. qui xtfmb cashr $control if dum1990 == 0 & dum2000 == 0, lag(2)

. local r2_ : di %4.3f e(r2)

. eststo col7

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.353"

. estadd local yearfixed ""

added macro:
          e(yearfixed) : ""

. 
. * Column 8
. qui xtfmb cashr $control if dum1990 == 1 | dum2000 == 1, lag(2)

. local r2_ : di %4.3f e(r2)

. eststo col8

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.489"

. estadd local yearfixed ""

added macro:
          e(yearfixed) : ""

. 
. * Column 9
. qui reghdfe cashr $control if fyear - year(ipodate2) > 5, a(fyear) cl(gvkey f
> year) nocon

. local r2_ : di %4.3f e(r2_a)

. eststo col9

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.417"

. estadd local yearfixed "Yes"

added macro:
          e(yearfixed) : "Yes"

. 
. * Tabulate
. esttab using "analysis/output/tab/tab3a.tex", replace p nostar order(_cons la
> g_dcashr lag_cash) label booktabs longtable b(3) p(3) nonotes constant msign(
> "$-$") nomtitles nonumbers title("Regressions Estimating the Determinants of 
> Cash Holdings \label{tab:3}") ///
> posthead("\multicolumn{10}{c}{Panel A} \\" ///
> "\midrule Model & OLS & OLS & Changes & OLS & OLS & Changes & F-M (1980s) & F
> -M (1990s) & FE \\" ///
> "\midrule" "\multicolumn{1}{p{1.5cm}}{\centering Dependent Variables} & \mult
> icolumn{1}{p{1.8cm}}{\centering Cash/Assets} & \multicolumn{1}{p{1.8cm}}{\cen
> tering Log(Cash/ \\Net Assets)} & \multicolumn{1}{p{1.8cm}}{\centering Cash/A
> ssets} & \multicolumn{1}{p{1.8cm}}{\centering Cash/Assets} & \multicolumn{1}{
> p{1.8cm}}{\centering Log(Cash/ \\Net Assets)} & \multicolumn{1}{p{1.8cm}}{\ce
> ntering Cash/Assets} & \multicolumn{1}{p{1.8cm}}{\centering Cash/Assets} & \m
> ulticolumn{1}{p{1.8cm}}{\centering Cash/Assets} & \multicolumn{1}{p{1.8cm}}{\
> centering Cash/Assets} \\" "\midrule") ///
> prefoot("\\") ///
> stats(yearfixed r2_ N, fmt("%10.0fc") labels("Year dummies" "Adjusted $ R^2$"
>  "Obs."))
(output written to analysis/output/tab/tab3a.tex)

. 
end of do-file
